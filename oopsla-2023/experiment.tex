
\subsection{tmp: definitions}

A benchmark is a family of programs.
There are $3^N$ program configurations (\emph{configurations} for short)
in each family, where $N$ is the number of \emph{migratable} modules.
These modules can depend on any number of additional \emph{contextual} modules.

A migration target (\emph{target}) is a set of modules that should be equipped
with types.
There are $2^N$ targets per benchmark.


\subsection{Data Collection}

% https://www.cloudlab.us/

Our experiments call for three kinds of data for every configuration across the benchmarks:
\begin{enumerate}
  \item Running time
  \item Boundary-profile output
  \item Statistical-profile output
\end{enumerate}

To collect one running time, we used nine runs of the configuration:
one throwaway run to warm up the Racket JIT and eight other runs to compute an average.
To collect boundary and statistical output, we ran each configuration once.
Thus we took $11 * \totalnumconfigs{} = \totalnummeasurements{}$ measurements in total.

We collected all the data on CloudLab~[CITE].
For running times, we used the Wisconsin cluster c220g1 
FILL: exception for morsecode.

%% 2023-03-22 bg: quadT ran on m510 nodes

boundary from another cluster, same racket
exceptions: dungeon, morsecode
profile, ditto

Tried two modes for statistical profiler: total time and self time.
Comparable, but total succeeds in a greater number of configurations.
There do exist configs where total fails and self succeeds.
Focus on total for most of paper (TODO where?)


\begin{table}[t]
  \caption{Datasets}
  \label{t:data-collection}

  \begin{tabular}{llll}
    Dataset           & Server & Racket & Typed Racket \\\midrule
    dungeon           & \machinename{c220g2} & \stdrkt{} &  \commitname{29ea3c10}{29ea3c105e0bd60b88c1fd195b54fa716863f690} \\
    morsecode         & \machinename{m510}   & same & \commitname{700506ca}{700506ca01393f211229101c47d8420f6d535de9} (cherry pick) \\
 %% quadT runtime  & \machinename{m510}   & same & same \\
    other runtime     & \machinename{c220g1} & same & default \\
    profilers         & \machinename{m510}   & same & same
  \end{tabular}

  \bigskip

  \begin{tabular}{llrrr}
    %% multi-cpu, multi-core machines .. but we didn't use that, right?
    Server & Site & CPU Speed & RAM & Disk \\\midrule
    \machinename{c220g1} & Wisconsin & 2.4GHz & 128GB & 480GB SSD \\
    \machinename{c220g2} & Wisconsin & 2.6GHz & 160GB & 480GB SSD \\
    \machinename{m510}   & Utah      & 2.0GHz &  64GB & 256GB SSD
  \end{tabular}
\end{table}


